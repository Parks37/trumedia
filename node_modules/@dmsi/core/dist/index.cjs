var Y=Object.create,u=Object.defineProperty,_=Object.defineProperties,ee=Object.getOwnPropertyDescriptor,te=Object.getOwnPropertyDescriptors,re=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,ne=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var I=(e,t,r)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,i=(e,t)=>{for(var r in t||(t={}))f.call(t,r)&&I(e,r,t[r]);if(l)for(var r of l(t))S.call(t,r)&&I(e,r,t[r]);return e},a=(e,t)=>_(e,te(t)),O=e=>u(e,"__esModule",{value:!0});var k=(e,t)=>{var r={};for(var n in e)f.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&l)for(var n of l(e))t.indexOf(n)<0&&S.call(e,n)&&(r[n]=e[n]);return r};var d=(e,t)=>{for(var r in t)u(e,r,{get:t[r],enumerable:!0})},oe=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of re(t))!f.call(e,n)&&n!=="default"&&u(e,n,{get:()=>t[n],enumerable:!(r=ee(t,n))||r.enumerable});return e},m=e=>oe(O(u(e!=null?Y(ne(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);O(exports);d(exports,{Logger:()=>G,browser:()=>$,cookies:()=>N,decimal:()=>b,formatCharacter:()=>M,formatDate:()=>U,formatInteger:()=>A,hash:()=>B,keyEvents:()=>V,mapObject:()=>K,mapValues:()=>W,prettyCatch:()=>q,storage:()=>p,timezone:()=>v,withCustomClassProp:()=>Q});var D=m(require("bowser")),L=document.createElement("input");L.type="time";var se=L.type==="time",E=(e=window.navigator.userAgent)=>D.default.getParser(e),ie=(e=window.navigator)=>e.platform==="MacIntel"&&e.maxTouchPoints>1,C=(e=E())=>e.getPlatformType()==="tablet"||e.getPlatformType()==="mobile",ae=(e=window.navigator.userAgent,t=window.navigator)=>{let r=E(e);return a(i({},r.getResult()),{features:{input:{time:se},fileSystem:!C(r)&&!ie(t)},mobile:C(r)})},me=()=>window.innerHeight>window.innerWidth?"portrait":"landscape",$=a(i({},ae()),{findOrientation:me});var h={get:e=>{let t=new RegExp(`(?:(?:^|.*;\\s*)${e}\\s*\\=\\s*([^;]*).*$)|^.*$`);return document.cookie.replace(t,"$1")||null},set:(e,t,r)=>{let n="",o="";r&&(n=r.expires?`Expires=${r.expires.toUTCString()};`:"",o=r.path?`Path=${r.path}`:document.location.pathname);let s=`${e}=${t};${n}${o}`;return document.cookie=s,r&&r.onCookieSet&&r.onCookieSet(s),h.get(e)},delete:e=>h.set(e,"",{expires:new Date(1e3)})},N=h;var b={};d(b,{asObject:()=>he,format:()=>R,truncate:()=>T});var P=m(require("numeral")),w=m(require("is-number")),y=m(require("pipr")),ge=["0a","0.00a","0.0a"],ce=e=>e<3?"0.00":e<5?"0,0":ge[e%3],T=e=>{if(!e&&e!==0)return"";if(!(0,w.default)(e))throw new Error("Input must be parsable as a Number.");let t=(0,P.default)(e),r=t.format("0",(0,y.default)([Math.floor,Math.abs])),n=ce(r.length);return t.format(n).toUpperCase()},ue=e=>Number(e.replace(/[^0-9.-]/g,"")),le=e=>e.indexOf(".")<0,pe=e=>e.replace(/[^0-9.]/g,"").split(".").slice(-1).pop().length,fe=e=>le(e)?0:pe(e),de=e=>({decimals:fe(e),suffix:e.replace(/[^A-Z]/g,""),truncated:e,value:ue(e)}),R=e=>new Intl.NumberFormat("en-US",{currency:"USD",style:"currency"}).format(Number(e)),he=e=>{if(!(0,w.default)(e))throw new Error("Input must be parsable as a Number.");return a(i({},(0,y.default)([T,de])(e)),{numberText:R(e)})};var M=e=>e;var j=m(require("dot-prop")),z={month:"2-digit",day:"2-digit",year:"2-digit"},F={mdy:new Intl.DateTimeFormat("en-US",z).format,dmy:new Intl.DateTimeFormat("en-GB",z).format},be=(e,t="mdy")=>{let r=e;if(typeof e=="string"){let n=Number(e.substring(0,4)),o=Number(e.substring(5,7))-1,s=Number(e.substring(8,10));r=new Date(n,o,s)}return(0,j.getProperty)(F,t,F.mdy)(Number(r))},U=be;var A=e=>e||e===0?e:"";var we=e=>{let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r);return Math.abs(t&~(0<<31)).toString(16)},B=we;var ye=(e,t)=>r=>{console.warn("@dmsi/core keyEvents is deprecated; please switch to @wedgekit/utils handleKeyEvent");let n;typeof e=="string"?n=[e]:(n=e,n.includes(" ")&&n.push("Spacebar")),n.includes(r.key)&&(n.includes("Spacebar")&&r.preventDefault(),t(r))},V={create:ye};var J=m(require("reconnecting-websocket")),H=m(require("uuid"));var c="dmsi:",ve={getItem:e=>window.localStorage.getItem(`${c}${e}`),setItem:(e,t)=>window.localStorage.setItem(`${c}${e}`,t),removeItem:e=>window.localStorage.removeItem(`${c}${e}`)},xe={getItem:e=>window.sessionStorage.getItem(`${c}${e}`),setItem:(e,t)=>window.sessionStorage.setItem(`${c}${e}`,t),removeItem:e=>window.sessionStorage.removeItem(`${c}${e}`)},Se={ls:ve,ss:xe},p=Se;var g=class{static get ERROR(){return 0}static get INFO(){return 1}static get DEBUG(){return 2}static get TRACE(){return 3}constructor(t,r=J.default,n=p.ls){if(!t||typeof t!="object")throw new Error("options are required, and must be an object");if(!t.url)throw new Error("options must include a url property");if(this.batchSize=t.batchSize||50,this.environment=t.environment,this.headers=t.headers||{"Content-Type":"application/json"},this.url=t.url,this.username=t.username,this.storage=n,this.url.indexOf("ws://")>-1||this.url.indexOf("wss://")>-1)this.websocket=new r(this.url),this.websocket.onopen=()=>{let o=this.batchLogs(JSON.parse(this.storage.getItem("logs")));o&&o.length>0&&(o.forEach(s=>{this.send(s)}),this.storage.setItem("logs",JSON.stringify([])))};else throw new Error("Invalid protocol in URL. Must be ws:// or wss://")}batchLogs(t){return!t||t.length===0?[]:t.length<=this.batchSize?[t]:t.map((r,n)=>n%this.batchSize==0?t.slice(n,n+this.batchSize):null).filter(r=>r)}log(t,r,n){this.send([{context:navigator.userAgent,message:t,transactionID:n||(0,H.v4)(),username:this.username,environment:this.environment,level:r}])}send(t,r=!1){if(this.websocket&&this.websocket.readyState===this.websocket.OPEN)this.websocket.send(JSON.stringify(t));else if(!r){let n=JSON.parse(this.storage.getItem("logs"))||[];this.storage.setItem("logs",JSON.stringify(n.concat(t)))}}setEnvironment(t){this.environment=t}setUsername(t){this.username=t}error(t,r){this.log(t,g.ERROR,r)}info(t,r){this.log(t,g.INFO,r)}debug(t,r){this.log(t,g.DEBUG,r)}trace(t,r){this.log(t,g.TRACE,r)}},G=g;var Ie=(e,t,r=!1)=>Object.keys(e).reduce((n,o)=>{let s=t(o,e[o]);return!r&&typeof s=="undefined"?n:a(i({},n),{[o]:s})},{}),K=Ie;var Oe=(e,t)=>Object.keys(e).reduce((r,n)=>a(i({},r),{[n]:t(e[n])}),{}),W=Oe;var ke=e=>{let t=[void 0,void 0];try{t[1]=e()}catch(r){t[0]=r}return t},q=ke;var v={};d(v,{changeMomentTimezone:()=>De,mergeDateTime:()=>Le});var x=m(require("moment-timezone")),De=(e,t,r=!1)=>{if(e&&x.default.isMoment(e)&&e.isValid()){if(r){let n={year:e.year(),month:e.month(),date:e.date(),hour:e.hour(),minute:e.minute()};return x.default.tz(n,t)}return e.tz(t)}return null},Le=(e,t)=>e?e.set({hour:t?t.hour():0,minute:t?t.minute():0}):null;var Z=m(require("react")),Ee=(e,t)=>o=>{var s=o,{className:r}=s,n=k(s,["className"]);let X={[t]:r};return Z.default.createElement(e,i(i({},n),X))},Q=Ee;
