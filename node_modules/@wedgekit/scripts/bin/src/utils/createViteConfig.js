import fs from 'fs/promises';
import path from 'path';
import { fileURLToPath } from 'url';
import getViteConfig from './getViteConfig';
const createViteConfig = async (opts) => {
    const viteConfig = getViteConfig(opts);
    await fs.writeFile(path.resolve(path.dirname(fileURLToPath(import.meta.url)), 'configs/vite.config.js'), String.raw `import appAssets from './rollup-app-assets-plugin.js';

const config = JSON.parse('${JSON.stringify(viteConfig)}');

config.plugins = [appAssets()];

export default config;
`);
};
export default createViteConfig;
