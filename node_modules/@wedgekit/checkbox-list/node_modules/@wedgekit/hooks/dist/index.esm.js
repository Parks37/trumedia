import{useEffect as B,useState as W}from"react";import{useState as V,useEffect as P}from"react";var z=()=>{let[n,s]=V(document.activeElement),c=()=>{s(document.activeElement)};return P(()=>(document.addEventListener("focusin",c),document.addEventListener("focusout",c),()=>{document.removeEventListener("focusin",c),document.removeEventListener("focusout",c)}),[]),n},v=z;var O=(n,s)=>{for(let c=0;c<n.length;c++){let t=n.item(c);if(t){if(t===s)return!0;if(t.children.length){let r=O(t.children,s);if(r)return r}}}return!1},N=n=>{let s=v(),[c,t]=W(!1);return B(()=>{n.current&&s&&t(O(n.current.children,s))},[n,s]),c},k=N;import{useEffect as U}from"react";var _=(n,s)=>{let c=t=>r=>{var u,e;r.type==="focusout"?t(r,!!((u=n.current)==null?void 0:u.contains(r.relatedTarget))):t(r,!!((e=n.current)==null?void 0:e.contains(r.target)))};U(()=>{let t={blur:"focusout",focus:"focusin"},r=Object.keys(s).map(u=>[t[u]||u,c(s[u])]);return r.forEach(([u,e])=>{var i;u==="scroll"?document.addEventListener(u,e,!0):(i=n.current)==null||i.addEventListener(u,e)}),()=>{r.forEach(([u,e])=>{var i;u==="scroll"?document.removeEventListener(u,e,!0):(i=n.current)==null||i.removeEventListener(u,e)})}},[s,n.current])},A=_;import{useEffect as q,useState as G}from"react";var J=(n,s,c)=>{let[t,r]=G(!1),u=new IntersectionObserver(([e])=>{r(s?s(e):e.isIntersecting)},c);return q(()=>(n.current&&u.observe(n.current),()=>{u.disconnect()}),[]),t},H=J;import{useEffect as Q,useState as S}from"react";var X=(n,s=[])=>{let[c,t]=S(!1),[r,u]=S(!1),[e,i]=S(!1),[m,E]=S(!1);return Q(()=>{if(n.current){let d=n.current.getBoundingClientRect();t(d.left<0),u(d.right>window.innerWidth),i(d.top<0),E(d.bottom>window.innerHeight)}},s),[e,r,m,c]},g=X;import{useCallback as x,useEffect as Y,useState as L}from"react";var Z=(n,s)=>{if(n>s)return[];if(n===s)return[n];let c=[];for(let t=Math.max(n,0);t<=s;t++)c.push(t);return c},$=({allowHorizontalKeyPress:n=!1,multiple:s=!0,getClickIndex:c,getID:t,items:r,itemsPerRow:u=()=>1,selected:e,onChange:i})=>{var y;let[m,E]=L(-1),[d,R]=L(-1),[T,h]=L((y=e==null?void 0:e.slice())!=null?y:[]),b=x((o,f)=>{let a=r.filter((M,C)=>Z(Math.min(m,o),Math.max(m,o)).includes(C));m<o&&a.reverse();let l=a.map(t),p=T.filter(M=>!l.includes(t(M)));i([...a,...p],f),h(p)},[t,r,m,T,i]),w=x(o=>{var l;if(["a","A"].includes(o.key)&&(o.ctrlKey||o.metaKey)){o.preventDefault(),i(r.slice(),o);return}if(!["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"," ","Spacebar","Enter"].includes(o.key))return;let f=(l=r.findIndex(p=>t(p)===t(e==null?void 0:e[0])))!=null?l:-1,a=d;switch(o.key){case"ArrowLeft":if(!n)return;a--;break;case"ArrowRight":if(!n)return;a++;break;case"ArrowUp":case"ArrowDown":a=f+(o.key==="ArrowDown"?1:-1)*u();break;case" ":case"Spacebar":case"Enter":o.preventDefault(),a=c(o);break;case"Home":o.preventDefault(),a=0;break;case"End":o.preventDefault(),a=r.length-1;break;default:return}a=Math.min(Math.max(0,a),r.length-1),s&&o.shiftKey?b(a,o):s&&(o.ctrlKey||o.metaKey)?(h(e?[...e.filter(p=>t(p)!==t(r[a]))]:[]),E(a)):(i([r[a]],o),h([]),E(a)),a!==d&&R(a)},[r,d,s,i,t,e,n,u,c,b]);Y(()=>(document.addEventListener("keydown",w),()=>{document.removeEventListener("keydown",w)}),[w]);let I=x(o=>{var a;let f=c(o);if(f>=0)if(s&&o.shiftKey)b(f,o);else{if(s&&e&&(o.ctrlKey||o.metaKey)){let l=(a=e==null?void 0:e.findIndex(p=>t(p)===t(r[f])))!=null?a:-1;l<0?(i([r[f],...e],o),h(e.slice())):(i([...e.slice(0,l),...e.slice(l+1)],o),h([...e.slice(0,l),...e.slice(l+1)]))}else e&&e.length===1&&t(e[0])===t(r[f])?(i([],o),h([])):(i([r[f]],o),h([]));R(f),E(f)}},[c,s,b,e,t,r,i]);return{focusIndex:d,onClick:I}},K=$;import{useEffect as D,useState as j}from"react";var ee=(n,s=[])=>{let[c,t]=j(0),[r,u]=j(0);return D(()=>{var e,i,m,E;t((i=(e=n.current)==null?void 0:e.offsetWidth)!=null?i:0),u((E=(m=n.current)==null?void 0:m.offsetHeight)!=null?E:0)},s),[r,c]},F=ee;export{k as useChildFocused,A as useContainerEvent,H as useInViewport,g as useOverhang,K as useSelection,F as useSize,v as useTrackActiveElement};
