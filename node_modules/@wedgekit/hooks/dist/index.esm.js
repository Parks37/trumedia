import{useEffect as U,useState as _}from"react";import{useState as V,useEffect as z}from"react";var N=()=>{let[e,t]=V(document.activeElement),u=()=>{t(document.activeElement)};return z(()=>(document.addEventListener("focusin",u),document.addEventListener("focusout",u),()=>{document.removeEventListener("focusin",u),document.removeEventListener("focusout",u)}),[]),e},v=N;var O=(e,t)=>{for(let u=0;u<e.length;u++){let r=e.item(u);if(r){if(r===t)return!0;if(r.children.length){let n=O(r.children,t);if(n)return n}}}return!1},q=e=>{let t=v(),[u,r]=_(!1);return U(()=>{e.current&&t&&r(O(e.current.children,t))},[e,t]),u},C=q;import{useEffect as G}from"react";var J=(e,t)=>{let u=r=>n=>{var s,o;n.type==="focusout"?r(n,!!((s=e.current)==null?void 0:s.contains(n.relatedTarget))):r(n,!!((o=e.current)==null?void 0:o.contains(n.target)))};G(()=>{let r={blur:"focusout",focus:"focusin"},n=Object.keys(t).map(s=>[r[s]||s,u(t[s])]);return n.forEach(([s,o])=>{var c;s==="scroll"?document.addEventListener(s,o,!0):(c=e.current)==null||c.addEventListener(s,o)}),()=>{n.forEach(([s,o])=>{var c;s==="scroll"?document.removeEventListener(s,o,!0):(c=e.current)==null||c.removeEventListener(s,o)})}},[t,e.current])},H=J;var B=e=>!!(e.getPropertyValue("transform")&&e.getPropertyValue("transform")!=="none"||e.getPropertyValue("perspective")&&e.getPropertyValue("perspective")!=="none"||e.getPropertyValue("filter")&&e.getPropertyValue("filter")!=="none"||e.getPropertyValue("contain")==="paint"||["transform","perspective","filter"].includes(e.getPropertyValue("will-change"))),Q=e=>!!(["absolute","fixed","relative","sticky"].includes(e.getPropertyValue("position"))||B(e)),X=(e,t,u)=>{let r=u.getComputedStyle(e);return t==="absolute"?Q(r):B(r)},Y=(e,t,u,r)=>{let n=e;for(;n.parentElement;){if(n.parentElement===r.body||X(n.parentElement,t,u))return n.parentElement;n=n.parentElement}return n},S=Y;var Z=(e,t,u)=>({...e,bottom:e.bottom-t.top+u.top,left:e.left-t.left+u.left,right:e.right-t.left+u.left,top:e.top-t.top+u.top}),y=Z;var $=(e,t)=>{let u=S(e,t,window,document);return{containingBlock:u,distance:y(e.getBoundingClientRect(),u.getBoundingClientRect(),document.body.getBoundingClientRect())}},P=$;import{useEffect as ee,useState as te}from"react";var ne=(e,t,u)=>{let[r,n]=te(!1),s=new IntersectionObserver(([o])=>{n(t?t(o):o.isIntersecting)},u);return ee(()=>(e.current&&s.observe(e.current),()=>{s.disconnect()}),[]),r},A=ne;import{useEffect as re,useState as h}from"react";var oe=(e,t=[])=>{let[u,r]=h(!1),[n,s]=h(!1),[o,c]=h(!1),[d,p]=h(!1);return re(()=>{if(e.current){let m=e.current.getBoundingClientRect();r(m.left<0),s(m.right>window.innerWidth),c(m.top<0),p(m.bottom>window.innerHeight)}},t),[o,n,d,u]},K=oe;import{useCallback as R,useEffect as ue,useState as k}from"react";var ae=(e,t)=>{if(e>t)return[];if(e===t)return[e];let u=[];for(let r=Math.max(e,0);r<=t;r++)u.push(r);return u},se=({allowHorizontalKeyPress:e=!1,multiple:t=!0,getClickIndex:u,getID:r,items:n,itemsPerRow:s=()=>1,selected:o,onChange:c})=>{var w;let[d,p]=k(-1),[m,L]=k(-1),[M,b]=k((w=o==null?void 0:o.slice())!=null?w:[]),g=R((a,f)=>{let i=n.filter((T,W)=>ae(Math.min(d,a),Math.max(d,a)).includes(W));d<a&&i.reverse();let l=i.map(r),E=M.filter(T=>!l.includes(r(T)));c([...i,...E],f),b(E)},[r,n,d,M,c]),x=R(a=>{var l;if(["a","A"].includes(a.key)&&(a.ctrlKey||a.metaKey)){a.preventDefault(),c(n.slice(),a);return}if(!["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"," ","Spacebar","Enter"].includes(a.key))return;let f=(l=n.findIndex(E=>r(E)===r(o==null?void 0:o[0])))!=null?l:-1,i=m;switch(a.key){case"ArrowLeft":if(!e)return;i--;break;case"ArrowRight":if(!e)return;i++;break;case"ArrowUp":case"ArrowDown":i=f+(a.key==="ArrowDown"?1:-1)*s();break;case" ":case"Spacebar":case"Enter":a.preventDefault(),i=u(a);break;case"Home":a.preventDefault(),i=0;break;case"End":a.preventDefault(),i=n.length-1;break;default:return}i=Math.min(Math.max(0,i),n.length-1),t&&a.shiftKey?g(i,a):t&&(a.ctrlKey||a.metaKey)?(b(o?[...o.filter(E=>r(E)!==r(n[i]))]:[]),p(i)):(c([n[i]],a),b([]),p(i)),i!==m&&L(i)},[n,m,t,c,r,o,e,s,u,g]);ue(()=>(document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}),[x]);let D=R(a=>{var i;let f=u(a);if(f>=0)if(t&&a.shiftKey)g(f,a);else{if(t&&o&&(a.ctrlKey||a.metaKey)){let l=(i=o==null?void 0:o.findIndex(E=>r(E)===r(n[f])))!=null?i:-1;l<0?(c([n[f],...o],a),b(o.slice())):(c([...o.slice(0,l),...o.slice(l+1)],a),b([...o.slice(0,l),...o.slice(l+1)]))}else o&&o.length===1&&r(o[0])===r(n[f])?(c([],a),b([])):(c([n[f]],a),b([]));L(f),p(f)}},[u,t,g,o,r,n,c]);return{focusIndex:m,onClick:D}},j=se;import{useEffect as ie,useState as F}from"react";var ce=(e,t=[])=>{let[u,r]=F(0),[n,s]=F(0);return ie(()=>{var o,c,d,p;r((c=(o=e.current)==null?void 0:o.offsetWidth)!=null?c:0),s((p=(d=e.current)==null?void 0:d.offsetHeight)!=null?p:0)},t),[n,u]},I=ce;export{C as useChildFocused,H as useContainerEvent,P as useContainingBlock,A as useInViewport,K as useOverhang,j as useSelection,I as useSize,v as useTrackActiveElement};
