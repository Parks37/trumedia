import styled from 'styled-components';
import color from '@wedgekit/color';
import { getBasePx } from '@wedgekit/primitives';

import type { Props } from '../Loading';

const Bar = styled.div<Props & { delay: number }>`
  height: 100%;
  width: ${({ size }) => (size ? `${size / 5}px` : getBasePx(1))};
  margin: 0 ${({ size }) => (size ? `${size / 20}px` : getBasePx(0.25))};
  display: inline-block;
  animation: sk-stretchdelay 1.2s infinite ease-in-out;
  border-radius: 2px;
  background: ${({ color: tag }) => (tag ? color[tag] : color.D500)};
  animation-delay: ${({ delay }) => delay}s;

  @keyframes sk-stretchdelay {
    0%,
    50%,
    100% {
      transform: scaleY(0.4);
      -webkit-transform: scaleY(0.4);
      opacity: 0;
    }

    20% {
      transform: scaleY(1);
      -webkit-transform: scaleY(1);
      opacity: 1;
    }
  }
`;

export default Bar;
