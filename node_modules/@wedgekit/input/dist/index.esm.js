import w from"react";import{v4 as Se}from"uuid";import{handleKeyEvent as He}from"@wedgekit/utils";import Me from"@wedgekit/info-button";import{Label as ke}from"@wedgekit/primitives";import F from"styled-components";import{UpdatedInputMixin as Pe,getBasePx as R,FieldStatusWrapper as Ee,Row as Te}from"@wedgekit/primitives";var L=F(Ee)`
  position: relative;
`,z=F(Te)`
  grid-column-gap: ${R(3)};
  grid-auto-columns: ${({info:e})=>e?"max-content min-content auto":"max-content auto"};
`,C=F.input`
  width: 100%;
  position: relative;
  ${Pe};
`,V=F.div`
  position: absolute;
  top: ${e=>e.labelHidden||e.labelInline?0:R(7.5)};
  right: 0;
  border-radius: 4px;
  display: flex;
  width: ${R(10)};
  height: ${R(10)};
  justify-content: center;
  align-items: center;

  svg {
    height: ${R(4)};
    width: ${R(4)};
  }
`;var Ne=e=>{let{className:t,disabled:i,forwardRef:r,id:n,info:a,label:l,labelHidden:o,labelInline:s,onChange:d,onKeyDown:I,onSubmit:u,readOnly:f,renderIcon:c,required:b,tabIndex:g,value:h,...m}=e;if(e.invalid&&(console.warn(`prop 'invalid' has been deprecated in favor of passing 'status'="error"`),console.warn("To be removed in @wedgekit/input@3.0.0")),!l)throw new Error('In order to make our product accessible to all users, "label" is required');let P=n||Se(),E=N=>{let D=N.target;return d(D.value,N)},v=u||(()=>{}),T=w.createElement(w.Fragment,null,w.createElement(C,{...m,className:t,disabled:i,id:P,labelInline:s,labelHidden:o,onChange:E,onKeyDown:N=>{I&&I(N),He({Enter:D=>v(h,D)})},readOnly:f,ref:r,required:b,value:h,tabIndex:g}),c&&w.createElement(V,{label:l,labelInline:s,labelHidden:o},c()));return w.createElement(L,{disabled:i,readOnly:f},w.createElement(z,{center:!0,info:!!a},!o&&w.createElement(w.Fragment,null,w.createElement(ke,{disabled:i,htmlFor:P,required:b,readOnly:f},l),a&&w.createElement(Me,{info:a,tabIndex:g})),s&&T),!s&&T)},ie=(e,t)=>w.createElement(Ne,{...e,forwardRef:t});ie.displayName="Input";var y=w.forwardRef(ie);import S,{useEffect as Re,useRef as Le}from"react";import Ce from"react-merge-refs";import{v4 as $e}from"uuid";import K from"styled-components";import le from"autosize";import Oe from"@wedgekit/info-button";import $,{getBasePx as U,Label as We,FieldStatusWrapper as Fe,Row as Ae,UpdatedInputMixin as qe}from"@wedgekit/primitives";var Be=$.base*6,De=$.base*2,ze=$.base*2,se=Be*3+De+ze,Ve=K(Fe)`
  position: relative;
`,Ke=K(Ae)`
  grid-column-gap: ${U(3)};
  grid-auto-columns: ${({info:e})=>e?"max-content min-content auto":"max-content auto"};
`,Ue=K.textarea`
  font-size: ${$.fontSize.body};
  font-weight: ${$.fontWeight.normal};
  height: ${se}px;
  line-height: 1.5rem;
  min-height: ${e=>e.minHeight||`${se}px`};
  min-width: 350px;
  max-height: ${e=>e.maxHeight||"40vh"};
  padding: ${U(2)}${U(3)};
  resize: ${e=>e.useAutosize?"none":e.resize||"both"};
  width: 100%;
  ${qe}
`,je=(e,t)=>{let{useAutosize:i=!0,disabled:r,info:n,label:a,labelHidden:l,labelInline:o,required:s,readOnly:d,tabIndex:I,value:u,onBlur:f,onChange:c,...b}=e;if(e.invalid&&(console.warn(`prop 'invalid' has been deprecated in favor of passing 'status'="error"`),console.warn("To be removed in @wedgekit/input@3.0.0")),!a)throw new Error('In order to make our product accessible to all users, "label" is required');let g=e.id||$e(),h=v=>{let x=v.target;return c(x.value,v)},m=Le(null),P=Ce([t,m]);Re(()=>{if(i&&m.current)return le(m.current),()=>{m.current&&le.destroy(m.current)}},[i]);let E=S.createElement(Ue,{...b,readOnly:d,"aria-label":l?a:"",useAutosize:i,disabled:r,id:g,labelInline:o,ref:P,required:s,tabIndex:r?$.tabIndex.disabled:I,value:u,onBlur:f,onChange:h});return S.createElement(Ve,{disabled:r,readOnly:d},S.createElement(Ke,{center:!0,info:!!n},!l&&S.createElement(S.Fragment,null,S.createElement(We,{disabled:r,htmlFor:g,required:s,readOnly:d},a),n&&S.createElement(Oe,{info:n,tabIndex:I})),o&&E),!o&&E)},j=S.forwardRef(je);import de from"react";var _e=(e,t)=>de.createElement(y,{ref:t,...e,placeholder:"username@domain.com"}),_=de.forwardRef(_e);import A from"react";import Je from"react-number-format";var Ge=e=>t=>{let{decimals:i,max:r,min:n}=e,{floatValue:a,value:l}=t,o=parseInt(l,10);return!Number.isNaN(o)&&!Number.isSafeInteger(o)||l.replace(/[-, .]/g,"").length>16||i===0&&l.includes(".")?!1:a&&typeof n!="undefined"&&n<=0&&a<0?Math.trunc(a).toString().length>Math.trunc(n).toString().length?!1:a.toString().length<=Math.trunc(n).toString().length+(i?i+1:0):a&&typeof r!="undefined"&&r>=0&&a>0?Math.trunc(a).toString().length>Math.trunc(r).toString().length?!1:a.toString().length<=Math.trunc(r).toString().length+(i?i+1:0):!0},ue=Ge;var Xe=A.forwardRef(({onChange:e,...t},i)=>A.createElement(y,{...t,ref:i,inputMode:t.decimals===0?"numeric":"decimal",onChange:(r,n)=>e(n)})),Qe=A.forwardRef((e,t)=>{let{commas:i=!0,decimals:r,min:n,max:a,prefix:l,suffix:o,value:s,onChange:d,...I}=e,u=n===void 0||n<0,f=r!==void 0&&r!==0,c=()=>`${l||""} ${u?"\xB1":""}0${f?".".padEnd(r+1,"0"):""} ${o||""}`;return A.createElement(Je,{...I,allowNegative:u,customInput:Xe,decimals:r,decimalScale:r,getInputRef:t,isAllowed:ue({decimals:r,max:a,min:n}),placeholder:c(),prefix:l,suffix:o,thousandSeparator:i,value:s,onValueChange:({floatValue:b})=>d(b)})}),k=Qe;import H,{useEffect as Ye,useRef as Ze,useState as G}from"react";import pe from"styled-components";import W,{hexToRGBA as me}from"@wedgekit/color";import{useContainerEvent as et}from"@wedgekit/hooks";import tt,{InteractiveWrapper as nt}from"@wedgekit/icons";import{getBasePx as J}from"@wedgekit/primitives";var rt=pe(y)`
  padding-right: ${J(10.25)};
`,ot=pe(nt)`
  align-self: center;
  box-sizing: border-box;
  justify-content: center;
  display: flex;
  margin: 0;
  padding: 0;
  width: ${J(8)};
  height: ${J(8)};
  cursor: ${({readOnly:e})=>e&&"pointer"};

  &:hover:enabled:not(:focus) {
    background: ${({readOnly:e})=>e?me(W.N700,.1):W.N100};
  }
  &:focus {
    background: ${({readOnly:e})=>e?"transparent":W.N050};
    border: 1.5px solid ${({readOnly:e})=>e?me(W.N700,.5):W.N400};
  }

  > div {
    align-self: center;
  }
`,at=e=>{let{disabled:t,readOnly:i,forwardedRef:r,label:n,maxLength:a,tabIndex:l,value:o,onBlur:s,onChange:d,...I}=e,[u,f]=G(o===null),[c,b]=G(o||""),[g,h]=G(!1),m=!t,P=Ze(null),E={};return s&&(E.focusout=(v,x)=>{x||s(v)}),et(P,E),Ye(()=>{b(o||"")},[o]),H.createElement("div",{ref:P},H.createElement(rt,{"data-tag":`Password-${n}`,disabled:t,readOnly:i,label:n,maxLength:a,tabIndex:l,type:g?"text":"password",placeholder:u?"\u2022".repeat(7):"Enter Password",ref:r,...I,value:c,onChange:(v,x)=>{f(!1),b(v),d(v,x)},renderIcon:()=>H.createElement(H.Fragment,null,!u&&H.createElement(ot,{"data-tag":`Password-${n}`,disabled:t,readOnly:i,tabIndex:l,onClick:()=>m&&h(!g)},H.createElement(tt,{color:t?"N400":"N600"},g?"eye_opened":"eye_closed")))}))};function fe(e,t){return H.createElement(at,{...e,forwardedRef:t})}fe.displayName="Password";var X=H.forwardRef(fe);import p from"react";import O from"styled-components";import st from"imask";import dt from"@wedgekit/color";import ut from"@wedgekit/info-button";import{UpdatedInputMixin as be,FieldStatusWrapper as pt,Row as mt,Label as ft,getBasePx as q}from"@wedgekit/primitives";import it from"imask";var lt=e=>{let t=it.createMask({mask:e,definitions:{"#":/[\d\s]/},placeholderChar:" ",lazy:!1,overwrite:!0,autofix:!0});return t.resolve(""),t.value},ce=lt;var ct=O(mt)`
  grid-column-gap: ${q(3)};
  grid-auto-columns: ${({info:e})=>e?"max-content min-content auto":"max-content auto"};
`,bt=O.div`
  ${be};
  white-space: nowrap;
  display: flex;
  align-items: center;
  color: ${({hasValue:e})=>!e&&dt.N400};

  i {
    color: transparent;
    opacity: 0;
    visibility: hidden;
  }
`,gt=O.div`
  position: relative;
  margin-top: ${e=>e.labelHidden||e.labelInline?"0px":q(3)};
`,ht=O.input`
  ${be};
  position: absolute;
  width: 100%;
  top: 0;
  left: 0;
  margin-top: 0;
  background: transparent;
`,It=O.span`
  width: 1ch;
`,vt=O.div`
  position: absolute;
  top: 0;
  right: 0;
  width: ${q(10)};
  height: ${q(10)};
  display: flex;
  justify-content: center;
  align-items: center;
`,xt=e=>{let{className:t,pattern:i,labelHidden:r,labelInline:n,label:a,info:l,value:o,renderIcon:s,readOnly:d,...I}=e;e.invalid&&(console.warn(`prop 'invalid' has been deprecated in favor of passing 'status'="error"`),console.warn("To be removed in @wedgekit/input@3.0.0"));let u=st.createMask({mask:e.pattern,definitions:{"#":/[\d\s]/}}),f=ce(e.pattern),c=u.resolve(o),b=h=>{let m=u.resolve(h.target.value);e.onChange(u.unmaskedValue,m,h)},g=p.createElement(gt,{labelHidden:r,labelInline:n},p.createElement(bt,{readOnly:d,hasValue:o.length,disabled:e.disabled,labelHidden:r,labelInline:n},p.createElement("i",null,c),(!e.placeholder||!!o.length)&&f.slice(c.length,f.length).split("").map((h,m)=>p.createElement(p.Fragment,{key:`input-spacer-${m}`},/\s/.test(h)?p.createElement(It,null,"\xA0"):p.createElement("span",null,h)))),p.createElement(ht,{...I,className:t,readOnly:d,ref:e.forwardedRef,onChange:b,value:u.resolve(o)}),s&&p.createElement(vt,null,s()));return p.createElement(pt,{disabled:e.disabled,readOnly:d,invalid:e.invalid,status:e.status},p.createElement(ct,{center:!0,info:!!l},!r&&p.createElement(p.Fragment,null,p.createElement(ft,{disabled:e.disabled,readOnly:d,htmlFor:e.id,required:e.required},a),l&&p.createElement(ut,{info:l,tabIndex:e.tabIndex||0})),n&&g),!n&&g)};function ge(e,t){return p.createElement(xt,{...e,forwardedRef:t})}ge.displayName="Mask";var Q=p.forwardRef(ge);import he from"react";var wt=he.forwardRef((e,t)=>he.createElement(k,{...e,ref:t,decimals:2,prefix:"$",fullWidth:!0})),Y=wt;import Ie from"react";var yt=Ie.forwardRef((e,t)=>Ie.createElement(k,{min:0,max:100,decimals:0,...e,ref:t,suffix:"%"})),Z=yt;import ee,{useEffect as Pt}from"react";import Et from"styled-components";var Tt=Et(y)`
  ::-webkit-calendar-picker-indicator {
    cursor: pointer;
    filter: invert(35%) sepia(6%) saturate(65%) hue-rotate(131deg) brightness(88%) contrast(85%);
  }
`,St=e=>(Pt(()=>{console.warn(`@wedgekit/input Date is deprecated and will be removed in v2.0.0.
                      Please use @wedgekit/date-picker instead.`)},[]),ee.createElement(Tt,{...e,type:"date"}));function ve(e,t){return ee.createElement(St,{...e,forwardRef:t})}ve.displayName="Date";var te=ee.forwardRef(ve);import B from"react";import{v4 as At}from"uuid";import M from"react";import ne,{css as Ht}from"styled-components";import{browser as Mt}from"@dmsi/core";import kt from"@wedgekit/info-button";import re,{getBasePx as Nt,Label as Rt,FieldStatusWrapper as Lt,Row as Ct}from"@wedgekit/primitives";var $t=Ht`
  height: ${e=>e.browser.browser.name==="Chrome"&&`${24+re.base*4}px;`};
  ${e=>e.browser.os.name==="iOS"?`
        min-height: ${24+re.base*4}px;
        min-width: 87px;
      `:""};
`,Ot=ne(Ct)`
  grid-column-gap: ${Nt(3)};
  grid-auto-columns: ${({info:e})=>e?"max-content min-content auto":"max-content auto"};
`,Wt=ne(C)`
  ${$t}

  ::-webkit-calendar-picker-indicator {
    cursor: pointer;
    filter: invert(35%) sepia(6%) saturate(65%) hue-rotate(131deg) brightness(88%) contrast(85%);
  }
`,Ft=ne(Lt)`
  width: 100%;
`,xe=M.forwardRef((e,t)=>{let{ariaLabel:i,className:r,disabled:n,error:a,id:l,info:o,value:s,onChange:d,onError:I,label:u,labelHidden:f,labelInline:c,readOnly:b,required:g,status:h,tabIndex:m,...P}=e,E=x=>{let{value:T,name:N}=x.target;d(T,N,x)},v=M.createElement(Wt,{"aria-label":u,browser:Mt,className:r,disabled:n,type:"time",error:a,labelHidden:f,labelInline:c,nativeClear:!0,readOnly:b,ref:t,status:h,tabIndex:n?re.tabIndex.disabled:m,value:s||"",onChange:E,onInput:x=>{let T=x.target;(T.value===e.value||T.value==="")&&d("",T.name,x)},...P});return M.createElement(Ft,{className:r,disabled:n,readOnly:b},M.createElement(Ot,{center:!0,info:!!o},!f&&M.createElement(M.Fragment,null,M.createElement(Rt,{disabled:n,htmlFor:l,readOnly:b,required:g},u),e.info&&M.createElement(kt,{info:e.info,tabIndex:m})),c&&v),!c&&v)});xe.defaultProps={className:"",disabled:!1};var we=xe;var oe=class extends B.Component{constructor(t){super(t);this.state={error:""}}render(){let{className:t,forwardedRef:i,id:r,status:n,value:a,onChange:l,...o}=this.props,s=r||At();return B.createElement(we,{className:t,error:this.state.error,fullWidth:!0,ref:i,id:s,status:n,tabIndex:this.props.tabIndex,value:a,onChange:l,onError:d=>this.setState({error:d}),...o})}};oe.defaultProps={className:"",context:"primary",disabled:!1};function ye(e,t){return B.createElement(oe,{...e,forwardedRef:t})}ye.displayName="TimeInput";var ae=B.forwardRef(ye);export{Y as Currency,te as Date,_ as Email,L as InputWrapper,Q as Mask,k as Number,X as Password,Z as Percent,j as Textarea,ae as TimeInput,y as default};
